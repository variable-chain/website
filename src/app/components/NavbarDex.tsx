import React, { useEffect, useState } from "react";
import CustomButton from "./CustomButton";
import styles from "./NavbarChain.module.scss";
import ToggleSwitch from "./ToggleSwitch";
import Link from "next/link";

interface NavbarChainProps {
  onToggle: () => void;
}

const NavbarDex: React.FC<NavbarChainProps> = ({ onToggle }) => {
  const [menuOpen, setMenuOpen] = useState(false);
  const [isScrolled, setIsScrolled] = useState(false);
  const [blurNavbar, setBlurNavbar] = useState(false);
  // const { changeLayout ,layout } = useLayout();

  const toggleMenu = () => {
    setMenuOpen(!menuOpen);
  };

  const handleToggle = (isChecked: any) => {
    console.log("Chain Toggle state:", isChecked);
    // changeLayout(layout)
  };

  useEffect(() => {
    const handleScroll = () => {
      const scrollTop = window.scrollY;
      setIsScrolled(scrollTop > 0);
      setBlurNavbar(scrollTop > 0);
    };

    window.addEventListener("scroll", handleScroll);

    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, []);

  return (
    <>
      <nav
        className={`${styles.navbar_container} ${
          isScrolled ? "backdrop-visible" : ""
        } ${blurNavbar ? `${styles.blur_navbar}` : ""}`}
        id="navbar"
      >
        <div className={` ${styles.navbar} flex justify-between items-center `}>
          {/* Logo section */}
          <div className="text-white text-lg font-bold flex">
            <Link href="/">
              <div className="mr-4">
                <svg
                  width={"150px"}
                  viewBox="0 0 152 32"
                  fill="#fff"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path d="M6.37707 0H0V10.6668H6.37707V0Z" fill="#fff" />
                  <path
                    d="M12.754 10.667H6.37695V21.3338H12.754V10.667Z"
                    fill="#fff"
                  />
                  <path
                    d="M19.131 21.333H12.7539V31.9998H19.131V21.333Z"
                    fill="#fff"
                  />
                  <path
                    d="M25.5079 10.667H19.1309V21.3338H25.5079V10.667Z"
                    fill="#fff"
                  />
                  <path d="M31.8849 0H25.5078V10.6668H31.8849V0Z" fill="#fff" />
                  <path
                    d="M38.7213 31.9999C37.4266 31.9999 36.2627 31.766 35.2297 31.2981C34.1967 30.8302 33.3809 30.1385 32.7824 29.223C32.184 28.3075 31.8848 27.1774 31.8848 25.8327C31.8848 24.6757 32.0976 23.7196 32.5233 22.9642C32.9384 22.2181 33.5385 21.5922 34.2656 21.1473C35.0014 20.6934 35.8325 20.3486 36.7589 20.1128C37.7055 19.8736 38.6678 19.7019 39.6386 19.599C40.8356 19.4744 41.8065 19.361 42.5512 19.2587C43.296 19.1564 43.8388 18.9963 44.1798 18.7784C44.5209 18.5601 44.6916 18.2197 44.6918 17.7573V17.6771C44.6918 16.6717 44.3947 15.893 43.8006 15.3411C43.2065 14.7892 42.3508 14.5133 41.2337 14.5135C40.0542 14.5135 39.1209 14.7716 38.4339 15.2877C37.747 15.8038 37.2837 16.4134 37.0441 17.1165L32.5485 16.4757C32.9031 15.23 33.4883 14.1867 34.3042 13.3457C35.1201 12.5047 36.1176 11.8728 37.2967 11.45C38.4759 11.0273 39.7793 10.8159 41.207 10.8159C42.1969 10.8167 43.1833 10.9332 44.1463 11.1632C45.0971 11.384 46.002 11.7703 46.8199 12.3045C47.6267 12.8334 48.2762 13.552 48.7683 14.4601C49.2605 15.3683 49.5066 16.5028 49.5066 17.8638V31.5861H44.8791V28.7695H44.7195C44.427 29.3392 44.0169 29.8708 43.4892 30.3646C42.9616 30.8583 42.3011 31.2545 41.5077 31.5532C40.7147 31.851 39.7859 31.9999 38.7213 31.9999ZM39.9713 28.4491C40.938 28.4491 41.776 28.2559 42.4852 27.8693C43.1945 27.4828 43.7418 26.9688 44.1272 26.3274C44.5099 25.6962 44.7099 24.9706 44.7049 24.2318V21.815C44.5541 21.9399 44.2991 22.0557 43.9399 22.1623C43.5441 22.2775 43.1423 22.371 42.7364 22.4424C42.2929 22.5226 41.8539 22.5938 41.4195 22.656C40.9851 22.7183 40.6083 22.7717 40.289 22.8162C39.5708 22.9141 38.9279 23.0743 38.3603 23.2968C37.7928 23.5194 37.345 23.8286 37.017 24.2245C36.689 24.6206 36.525 25.13 36.525 25.7528C36.525 26.643 36.8487 27.3148 37.4959 27.7683C38.1431 28.2218 38.9683 28.4487 39.9713 28.4491Z"
                    fill="#fff"
                  />
                  <path
                    d="M54.3623 31.5862V11.083H59.0309V14.5008H59.2437C59.6163 13.3174 60.2569 12.403 61.1657 11.7577C62.0744 11.1124 63.114 10.7898 64.2844 10.79C64.5506 10.79 64.8499 10.8011 65.1823 10.8233C65.4612 10.8391 65.7389 10.8725 66.0136 10.9234V15.368C65.8095 15.2966 65.4881 15.232 65.0494 15.1742C64.6283 15.1177 64.2039 15.0888 63.7791 15.0876C62.9013 15.0876 62.1144 15.2767 61.4183 15.6549C60.7387 16.0176 60.171 16.56 59.7764 17.2234C59.3771 17.8906 59.1775 18.6603 59.1777 19.5325V31.5862H54.3623Z"
                    fill="#fff"
                  />
                  <path
                    d="M71.6398 8.17308C70.8768 8.17308 70.2206 7.91726 69.6713 7.40561C69.122 6.89396 68.8471 6.27775 68.8467 5.55697C68.8467 4.82744 69.1216 4.20695 69.6713 3.69551C70.221 3.18407 70.8772 2.92814 71.6398 2.92773C72.4111 2.92773 73.0694 3.18366 73.6147 3.69551C74.1599 4.20736 74.4327 4.82785 74.4329 5.55697C74.4329 6.27775 74.1601 6.89396 73.6147 7.40561C73.0692 7.91726 72.4109 8.17308 71.6398 8.17308ZM69.2192 31.5863V11.0831H74.0337V31.5863H69.2192Z"
                    fill="#fff"
                  />
                  <path
                    d="M84.8596 32.0002C83.5649 32.0002 82.4012 31.7663 81.3684 31.2984C80.3356 30.8305 79.5198 30.1388 78.921 29.2233C78.3226 28.3078 78.0234 27.1777 78.0234 25.833C78.0234 24.6761 78.2363 23.7199 78.662 22.9645C79.077 22.2184 79.6772 21.5925 80.4042 21.1476C81.1401 20.6938 81.9712 20.3489 82.8975 20.1131C83.8442 19.8739 84.8065 19.7021 85.7773 19.5993C86.9733 19.4748 87.9441 19.3613 88.6899 19.259C89.4357 19.1567 89.9788 18.9965 90.3193 18.7784C90.6605 18.5601 90.8312 18.2197 90.8314 17.7573V17.6771C90.8314 16.6717 90.5343 15.893 89.9402 15.3411C89.3461 14.7892 88.4904 14.5133 87.3733 14.5135C86.194 14.5135 85.2607 14.7716 84.5735 15.2877C83.8863 15.8038 83.423 16.4134 83.1837 17.1165L78.6881 16.4757C79.0426 15.23 79.6279 14.1867 80.4438 13.3457C81.2597 12.5047 82.2572 11.8728 83.4363 11.45C84.6155 11.0273 85.9189 10.8159 87.3465 10.8159C88.3364 10.8167 89.3229 10.9332 90.2859 11.1632C91.2367 11.384 92.1416 11.7703 92.9595 12.3045C93.7661 12.8334 94.4156 13.552 94.9079 14.4601C95.4003 15.3683 95.6464 16.5028 95.6462 17.8638V31.5861H91.0178V28.7695H90.8581C90.5656 29.3392 90.1556 29.8708 89.6279 30.3646C89.1003 30.8583 88.4396 31.2546 87.646 31.5535C86.8525 31.8513 85.9236 32.0002 84.8596 32.0002ZM86.1099 28.4494C87.0762 28.4494 87.9141 28.2562 88.6236 27.8696C89.3331 27.4831 89.8804 26.9691 90.2655 26.3277C90.6483 25.6966 90.8483 24.9709 90.8432 24.2322V21.8153C90.6924 21.9402 90.4375 22.056 90.0785 22.1626C89.6827 22.2778 89.281 22.3713 88.8751 22.4427C88.4315 22.5229 87.9926 22.5941 87.5582 22.6563C87.1238 22.7186 86.7469 22.772 86.4277 22.8165C85.7095 22.9144 85.0666 23.0746 84.499 23.2972C83.9314 23.5197 83.4837 23.8289 83.1557 24.2248C82.8277 24.6209 82.6637 25.1303 82.6637 25.7531C82.6637 26.6433 82.9873 27.3152 83.6346 27.7686C84.2818 28.2221 85.1069 28.449 86.1099 28.4494Z"
                    fill="#fff"
                  />
                  <path
                    d="M100.714 31.586V4.24854H105.529V14.4734H105.728C105.976 13.9752 106.327 13.4435 106.779 12.8784C107.231 12.3132 107.843 11.8282 108.614 11.4234C109.386 11.0183 110.37 10.8158 111.567 10.8158C113.145 10.8158 114.57 11.2185 115.843 12.0239C117.116 12.8294 118.127 14.0173 118.876 15.5879C119.626 17.1588 120.001 19.0832 120.001 21.3611C120.001 23.6126 119.633 25.5258 118.897 27.1008C118.161 28.6759 117.159 29.8773 115.891 30.7051C114.623 31.5326 113.186 31.9464 111.582 31.9464C110.411 31.9464 109.44 31.7506 108.669 31.359C107.897 30.9674 107.279 30.4936 106.814 29.9376C106.348 29.3814 105.986 28.8541 105.73 28.3556H105.448V31.586H100.714ZM105.436 21.3346C105.436 22.6606 105.624 23.8218 106.001 24.8183C106.378 25.8147 106.923 26.5911 107.637 27.1475C108.35 27.7043 109.217 27.9827 110.237 27.9827C111.301 27.9827 112.192 27.6958 112.91 27.1219C113.629 26.548 114.172 25.7601 114.54 24.7581C114.908 23.7572 115.092 22.616 115.092 21.3346C115.092 20.0621 114.91 18.9319 114.547 17.944C114.183 16.9561 113.642 16.1819 112.924 15.6214C112.206 15.0608 111.31 14.7804 110.237 14.7804C109.209 14.7804 108.335 15.0518 107.617 15.5946C106.899 16.1374 106.356 16.8982 105.988 17.8772C105.62 18.8569 105.436 20.0094 105.436 21.3346Z"
                    fill="#fff"
                  />
                  <path
                    d="M128.924 4.24854V31.586H124.109V4.24854H128.924Z"
                    fill="#fff"
                  />
                  <path
                    d="M142.916 31.9867C140.868 31.9867 139.101 31.5574 137.616 30.6987C136.131 29.84 134.989 28.6208 134.191 27.0411C133.393 25.4616 132.994 23.5995 132.994 21.4549C132.994 19.3458 133.395 17.4926 134.198 15.8952C135 14.2978 136.124 13.0519 137.569 12.1576C139.014 11.2635 140.713 10.816 142.664 10.8149C143.922 10.8149 145.113 11.0175 146.235 11.4225C147.351 11.8241 148.368 12.4639 149.215 13.2977C150.079 14.1434 150.76 15.218 151.256 16.5214C151.752 17.8248 152.001 19.3759 152 21.1747V22.6563H135.255V19.3993H147.385C147.376 18.4737 147.177 17.6483 146.787 16.9233C146.41 16.2125 145.847 15.6192 145.157 15.208C144.461 14.7895 143.652 14.5804 142.73 14.5806C141.746 14.5806 140.881 14.8186 140.137 15.2946C139.406 15.7555 138.807 16.3996 138.401 17.1634C137.988 17.9332 137.778 18.7764 137.769 19.6929V22.536C137.769 23.7286 137.986 24.7497 138.421 25.5995C138.855 26.4493 139.463 27.0989 140.243 27.5485C141.023 27.9977 141.936 28.2224 142.983 28.2226C143.683 28.2226 144.317 28.1224 144.885 27.9221C145.433 27.7332 145.936 27.4309 146.361 27.0347C146.778 26.6432 147.093 26.1582 147.305 25.5797L151.801 26.0868C151.517 27.2794 150.978 28.3183 150.185 29.2037C149.391 30.0891 148.378 30.7743 147.146 31.2593C145.913 31.7442 144.503 31.9867 142.916 31.9867Z"
                    fill="#fff"
                  />
                </svg>
              </div>
            </Link>
            <ToggleSwitch label="Enable Feature" onToggle={handleToggle} />
          </div>

          {/* Navigation links section for desktop */}
          <div className="hidden md:flex space-x-10 border border-solid bg-[#0000000f] border-gray-600 border-light rounded-full xl:p-4 xl:px-10 lg:p-3 lg:px-2 md:p-2 md:px-2">
            <Link href="/features" className="text-[#666666] hover:none">
              Features
            </Link>
            <Link
              href="/community"
              className="text-[#666666] hover:none"
            >
              Community
            </Link>
            <Link href="/developerdocs" className="text-[#666666] hover:none">
              Docs
            </Link>
            <a
              href="/faqs"
              className="text-[#666666] hover:none"
            >
              FAQs
            </a>
          </div>

          {/* Mobile Menu Button - Hidden on Desktop */}
            <div className={`md:hidden `}>
              <button className="text-white" onClick={toggleMenu}>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  className="h-6 w-6"
                >
                  <path
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    strokeWidth="2"
                    d="M4 6h16M4 12h16m-7 6h7"
                  ></path>
                </svg>
              </button>
            </div>
          <div className={styles.hide}>
          <Link href="/trade" className="block text-white py-2">
          <CustomButton text="Trade"  bgColor="#0000000f" textColor="#666666" borderColor="gray-600" borderWidth=""/>
          </Link>
          </div>
        </div>

        {/* Mobile Menu - Hidden on Desktop */}
        {menuOpen && (
          <div className={`md:hidden mt-4 ${styles.navbar_phone}`}>
            <Link href="/developerdocs" target="_blank" className="block text-white py-2">
            Features
            </Link>
            <Link
              href="/community"
              className="block text-white py-2"
              target="_blank"
            >
              Community
            </Link>
            <Link
              href="/developerdocsn"
              className="block text-white py-2"
              target="_blank"
            >
              Docs
            </Link>
            <Link href="/governance" className="block text-white py-2">
              FAQs
            </Link>
            <Link href="/trade" className="block text-white py-2">
            <CustomButton text="Trade"  bgColor="#0000000f" textColor="#666666" borderColor="gray-600" borderWidth=""/>
            </Link>
            {/* <SocailIcons bgColor="#0000000f"/> */}
          </div>
        )}
      </nav>
      <div
        className="fixed top-0 left-0 w-full h-full backdrop-blur-md bg-stone-950 opacity-0 transition-opacity"
        id={styles.navbarBackdrop}
      ></div>
    </>
  );
};

export default NavbarDex;
